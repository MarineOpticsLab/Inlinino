"""
Create virtual serial port on macOS and stream frame data into it
"""
import subprocess
import serial
import getpass
from time import sleep
import random

BAUDRATE = 115200
XONXOFF = False
RTSCTS = False
# PORT_A = '/dev/pts/2'
PORT_A = '/dev/ttys001'  # Get value from SOCAT output
# PORT_A = 'COM4'  # Get value from SOCAT output
# PORT_A = '/dev/tty.usbserial-14220'
FRAME_EXECUTION_TIME = 0.3

# Socat settings
_baudrate = 'ispeed=' + str(BAUDRATE) + ',ospeed=' + str(BAUDRATE)
if XONXOFF:
    _xonxoff = 'ixoff=1,ixon=1'
else:
    _xonxoff = 'ixoff=0,ixon=0'
if RTSCTS:
    _rtscts = 'crtscts=1'
else:
    _rtscts = 'crtscts=0'
_user = 'user=' + getpass.getuser()

port_a_settings = 'pty,raw,echo=0,' + _baudrate + ',' + _xonxoff + ',' + _rtscts + ',' + _user
port_b_settings = 'pty,raw,echo=0'
# TODO Uncomment line below for starting virtual serial port
# subprocess.Popen(['socat', '-ddd', port_a_settings, port_b_settings])


def mock_bb3_349_frame():
    counts1 = random.randint(45, 90)
    counts2 = random.randint(256, 512)
    counts3 = random.randint(0, 2 ** 12)
    return f'05/10/16\t18:06:23\t470\t{counts1}\t532\t{counts2}\t660\t{counts3}\t537\r\n'.encode()


i = 0


def mock_tara_tsg():
    global i
    i += 1
    if i % 2 == 0:
        return b't1= 18.2345, c1= 11.23456, s=  36.2345, sv=1520.123, t2= 17.1434\r\n'
    else:
        return b't1= 15.1234, c1= 10.12345, s=  35.1234, sv=1500.123, t2= 16.1234\r\n'


def mock_tara_nmea():
    t_HH, t_MM, t_SS = 14, 50, 15
    t_dd, t_mm, t_yyyy = 22, 4, 2021
    lat_deg, c_lat_min = 40, 50.1234
    lon_deg, c_lon_min = 70, 20.1234
    frame1 = b"$GPZDA,%02d%02d%02d.00,%02d,%02d,%04d,00,00\r\n" % (t_HH, t_MM, t_SS, t_dd, t_mm, t_yyyy)
    frame2 = b"$GPGGA,%02d%02d%02d.00,%02d%2.4f,N,%03d%2.4f,W,1,12,1.5,10,M,5,M,0.0,99999\r\n" % (t_HH, t_MM, t_SS,
                                                                                                  lat_deg, c_lat_min,
                                                                                                  lon_deg, c_lon_min)
    return frame1 + frame2


def mock_imoca_nmea():
    frames = [
        b'$IIVHW,113.7,T,M,0.02,N,,K*63',
        b'$IIXDR,G,0.36,M,xb_gyration_speed*33',
        b'$IIXDR,G,,,DTW*4E',
        b'$IIXDR,G,,,BTW*48',
        b'$IIXDR,G,0.62,D,heel*53',
        b'$IIXDR,G,,,autopilot_mode*34',
        b'$IIXDR,G,,,autopilot_state*40',
        b'$IIXDR,G,0.38,D,trim*5A',
        b'$IIXDR,A,,D,MAST_CANT*07',
        b'$IIXDR,A,,D,Mast_Angle*7E',
        b'$IIRSA,-10.68,A,,V*5B',
        b'$IIVPW,0.02,N,,M*4E',
        b'$IIDBT,,f,,M,,F*3F',
        b'$IIMWV,35.7,T,3.5,N,A*0C',
        b'$IIMWV,35.5,R,3.5,N,A*08',
        b'$IIMWD,145.3,T,,M,3.5,N,,M*41',
        b'$IIRMC,234343.272,A,4753.9527,N,00358.5611,W,0.02,113.7,150500,0.42,W,A*14',
        b'$IIRMC,234343.172,A,4753.9527,N,00358.5611,W,0.00,113.7,150500,0.42,W,A*15',
        b'$IIVHW,113.7,T,,M,0.00,N,,K*61'
    ]
    return b'\r\n'.join(frames) + b'\r\n'


def mock_hypernav_0051():
    global i
    sleep(2)
    i+=1
    if i % 4 == 0:
        return f"SATYLZ0001,2021166,19.042191,0,{i},11,5838,41,0,3850,-831368546,1,1,2,2,8258,11009,505,414,0,0,1402,5851,5761,5783,5824,5851,5840,5821,5846,5831,5840,5933,5851,5859,5833,5936,5822,5869,5815,5843,5826,5839,5828,5846,5959,5784,5830,5849,5858,5840,5825,5835,5835,5849,5873,5830,5898,5866,5679,5850,5853,5833,5818,5822,5822,5797,5814,5869,5810,5823,5865,5801,5829,5834,5835,5837,5822,5830,5821,5903,5817,5725,5823,5824,5830,5853,5821,5822,5837,5835,5791,5822,5817,5719,5775,5827,5836,5836,5840,5842,5846,5831,5818,5835,5956,5829,5769,5841,5820,5842,5847,5841,5838,5807,5853,5793,5726,5820,5825,5818,5847,5821,5836,5831,5847,5707,5845,5851,5843,5797,5826,5818,5829,5831,5838,5834,5817,5828,5790,5886,5944,5845,5839,5825,5833,5821,5830,5811,5675,5843,5810,5857,5841,5826,5818,5815,5835,5857,5834,5842,5837,5796,5971,5813,5885,5854,5820,5830,5842,5842,5843,5836,5831,5806,5821,5981,5814,5841,5810,5847,5837,5857,5848,5827,5891,5771,5797,5867,5853,5826,5828,5843,5847,5847,5924,5843,5857,5853,5933,5821,5840,5842,5830,5818,5817,5831,5847,5963,5827,5855,5901,5850,5859,5830,5809,5830,5831,5904,5833,5910,5825,5638,5849,5843,5833,5839,5851,5838,5842,5842,5878,5827,5857,5859,5803,5841,5827,5839,5851,5845,5841,5810,5881,5815,5743,5850,5827,5833,5837,5834,5844,5832,5839,5781,5835,5842,5765,5771,5835,5819,5831,5865,5825,5840,5849,5801,5834,5962,5855,5782,5838,5831,5855,5836,5841,5854,5804,5849,5796,5775,5872,5822,5830,5828,5833,5854,5819,5829,5681,5840,5835,5843,5812,5879,5843,5848,5855,5895,5872,5876,5883,5846,6054,6031,5954,5969,5930,5971,5978,5981,5998,5925,6081,6029,6094,6165,6149,6124,6191,6233,6227,6223,6199,6205,6221,6313,6227,6332,6314,6331,6349,6359,6435,6450,6491,6467,6488,6465,6651,6521,6535,6577,6618,6661,6745,6799,6848,6983,6903,7023,7065,7000,7050,7139,7119,7207,7277,7339,7269,7378,7346,7315,7343,7484,7439,7495,7567,7636,7627,7702,7830,7611,7763,7869,7892,8122,8257,8511,8603,8637,8810,8803,8938,9005,8955,9255,9377,9373,9348,9512,9633,9906,10076,10245,10394,10551,10716,10734,10831,11154,11419,11671,11970,12499,12476,12693,12507,12731,13052,13313,13695,13934,14371,14385,14407,14405,13982,13842,13591,13295,13191,13199,13657,14125,14828,15314,15459,15036,14922,15409,15773,15823,16225,16357,16572,16915,16967,17423,17957,18486,19093,19017,18930,18649,18675,18762,19063,19252,19344,19336,19368,19030,18853,18938,18456,17713,17799,17588,17175,17371,17963,18287,18775,19468,20128,20851,21672,21512,21168,21066,20499,20224,20415,20645,19987,19143,18304,17335,16919,16526,17012,17709,18362,19079,19451,19671,19245,19398,19607,19644,19963,20372,20506,21452,22010,22611,23289,23434,23157,22341,20749,19257,17854,17886,18702,20757,22134,22411,22220,20932,20016,20267,21648,23843,26176,27593,28879,29256,29357,30371,30895,30988,31091,31353,30505,30896,30472,30234,30219,30256,29751,29438,29574,29674,29245,29479,30268,30631,30859,30495,30041,29495,29954,30402,30925,31301,31619,31682,31297,31379,31243,31604,31124,31364,31290,31229,31267,31005,30905,30530,30323,30324,30448,30345,30323,30700,30662,30984,31074,30432,30349,29900,29503,29852,29944,29528,29865,29385,29233,29172,29036,28452,28288,27706,27713,27065,26167,25217,24689,24577,25379,26435,27662,28504,28624,28368,28099,28109,27979,27867,28636,29435,29154,29021,28459,27987,27711,27000,26566,26887,26970,26962,27378,27228,26952,27637,28048,27590,27747,27643,27300,27408,27003,26887,25922,26393,25883,26483,26587,26506,26328,26159,26110,25797,26059,26083,26182,26022,25789,25083,24931,24471,24307,24466,24489,24753,24632,24523,24865,24758,24712,25109,24706,24594,24607,24397,24517,24439,24599,24472,24918,24737,24839,24907,24961,24835,24706,24531,24396,24160,24299,24209,24058,23636,23464,23949,23889,24099,23579,23765,23504,23252,23115,22987,23221,23372,23306,23102,23118,23230,23133,23076,22904,23059,22734,22396,22623,22355,22410,22506,22454,22253,22324,22075,22296,21889,21975,22199,21983,21837,21611,21409,21078,20857,20910,20531,20253,19895,19273,18720,18536,18803,19105,19119,19089,19424,19221,18968,19241,19140,19013,18524,18303,18330,18202,17964,18018,18090,17619,17866,17614,17604,17399,17053,16887,16711,16603,16285,16152,15913,15825,15601,15674,15162,14989,14635,14769,14676,14556,14540,14250,14123,14268,13939,13921,13937,13885,13575,13527,13302,13097,12891,12743,12630,12499,12329,12129,11947,11927,11709,11733,11584,11381,11197,11127,11049,10992,11014,10860,10657,10467,10490,10440,10271,10258,10471,10396,10497,10564,10535,10631,10561,10546,10443,10811,10515,10467,10523,10503,10550,10459,10421,10302,10238,10041,10055,10183,10098,10195,10314,10251,10259,10133,10253,10171,10141,10151,9926,9937,9866,9804,9780,9793,9750,9748,9723,9929,9597,9669,9627,9570,9405,9532,9341,9328,9319,9187,9191,9227,9154,8863,9071,9058,9055,9096,9049,9052,8979,8923,8941,8818,8728,8723,8735,8668,8689,8675,8601,8633,8636,8626,8571,8502,8411,8476,8430,8403,8417,8436,8444,8439,8455,8282,8415,8385,8231,8301,8319,8262,8235,8319,8220,8241,8282,8158,8263,8363,8219,8183,8207,8218,8224,8117,8063,8094,8051,8048,8015,7982,8025,7959,7918,7987,7867,7864,7787,7701,7658,7819,7833,7666,7610,7673,7632,7620,7579,7624,7529,7491,7472,7367,7547,7431,7338,7289,7295,7247,7200,7203,7156,7091,7095,7075,7095,7144,7045,6971,6955,6960,6984,6940,6933,6851,6800,6821,6707,6748,6739,6715,6674,6633,6647,6618,6629,6575,6519,6518,6679,6448,6510,6467,6427,6401,6437,6404,6381,6458,6341,6369,6390,6343,6372,6305,6272,6289,6244,6325,6281,6287,6225,6177,6217,6232,6174,6173,6175,6148,6165,6129,6225,6171,6158,6201,6176,6167,6154,6116,6118,6154,6156,6153,6191,6093,5871,6091,6105,6089,6110,6107,6100,6094,6096,6101,6083,6112,6012,6029,6103,6096,6100,6102,6091,6095,6077,6143,6089,6155,6092,6043,6067,6083,6076,6067,6082,6074,6005,6071,6031,5965,6059,6035,6057,6051,6052,6045,6046,6035,5953,6064,6085,6033,5972,6059,6043,6046,6049,6041,6035,5990,6021,5983,6084,6093,6016,6035,6050,6050,6053,6028,6015,5884,6026,6001,6016,5998,6011,5999,6019,5998,6043,6000,6011,5995,5981,6167,6083,6012,6032,5983,6013,5996,5993,6016,5951,5975,5957,5991,6123,5976,5970,5959,5981,5978,5954,5980,5962,6021,5994,5925,5998,5989,5967,5986,5982,5942,5948,6048,5963,5968,5963,6102,5971,6003,5945,5951,5974,5925,5936,5951,6074,5918,5959,5995,5988,5971,5925,5947,5940,5927,6009,5964,5997,5937,5838,5950,5993,5953,5935,5958,5977,5956,5973,6014,5942,5998,5923,5927,5953,5986,5962,5938,5962,5978,5960,6024,5935,5750,5928,5924,5938,5945,5941,5944,5973,5950,5907,5938,5943,5862,5863,5931,5906,5886,5913,5931,5904,5921,5930,5895,6033,5923,5867,5927,5905,5901,5887,5889,5905,5861,5899,5881,5835,5865,5895,5917,5907,5889,5899,5895,5879,5761,5871,5906,5895,5852,5920,5867,5895,5922,5942,5918,5847,5861,5823,5999,5978,5860,5862,5872,5886,5888,5877,5880,5751,5892,5865,5875,5897,5859,5878,5884,5887,5890,5870,5859,5882,5835,5991,5911,5843,5885,5854,5858,5887,5861,5861,5819,5894,5911,5879,6005,5862,5855,5846,5835,5851,5853,5873,5841,5869,5863,5785,5854,5852,5865,5831,5842,5835,5831,5951,5855,5834,5871,6021,5843,5884,5856,5854,5860,5843,5847,5839,5937,5829,5850,5887,5869,5837,5852,5845,5845,5848,5931,5851,5888,5847,5699,5843,5883,5838,5848,5861,5854,5851,5865,5911,5822,5831,5841,5855,5825,5839,5839,5830,5851,5857,5826,5918,5847,5654,5829,5835,5838,5830,5828,5823,5835,5847,5843,5843,5877,5768,5754,5855,5837,5847,5843,5845,5846,5874,5846,5835,5921,5862,5815,5845,5825,5827,5810,5818,5813,5755,5863,5801,5739,5803,5830,5824,5857,5856,5860,5856,5833,5699,5837,5844,5845,5756,5832,5849,5834,5872,5841,5852,5823,5835,5771,5912,5929,5850,5814,5839,5832,5825,5851,5847,5710,5828,5816,5873,5811,5825,5840,5847,5857,5845,5829,5836,5831,5780,5997,5874,5854,5827,5823,5823,5840,5851,5837,5824,5857,5823,5849,6005,5870,5845,5859,5845,5821,5833,5815,5834,5882,5779,5790,5861,5876,5873,5851,5845,5843,5827,5943,5843,5854,5822,5931,5819,5861,5830,5846,5835,5855,5841,5843,5938,5817,5837,5871,5863,5843,5843,5836,5862,5848,5889,5842,5916,5822,5673,5827,5858,5825,5852,5836,5838,5825,5843,5937,5824,5882,5850,5810,5861,5840,5858,5826,5822,5861,5838,5923,5835,5665,5865,5845,5847,5850,5858,5850,5831,5841,5819,5823,5875,5814,5798,5845,5849,5839,5829,5833,5843,5831,5859,5843,5904,5841,5842,5844,5868,5872,5853,5839,5841,5783,5831,5830,5744,5777,5817,5829,5841,5808,5833,5851,5836,5769,5833,5906,5826,5813,5824,5819,5832,5839,5841,5815,5795,5833,5797,5807,5887,5797,5837,5828,5841,5834,5858,5855,5698,5858,5855,5838,5813,5852,5841,5852,5841,5857,5828,5843,5838,5791,5975,5967,5857,5847,5823,5849,5827,5838,5840,5773,5834,5823,5868,5923,5834,5855,5861,5847,5839,5825,5831,5818,5825,5830,5783,5852,5851,5824,5850,5854,5835,5853,5877,5867,5807,5855,6010,5846,5867,5853,5839,5838,5841,5833,5854,5911,5747,5807,5837,5858,5859,5844,5857,5825,5844,5949,5867,5909,5872,5819,5853,5867,5830,5834,5831,5825,5825,5860,5955,5847,5853,5875,5859,5847,5843,5833,5829,5837,5862,5845,5929,5846,5623,5850,5859,5849,5848,5840,5830,5827,5817,5843,5821,5879,5776,5814,5849,5864,5855,5843,5863,5850,5847,5862,5831,5882,5837,5807,5859,5835,5833,5844,5855,5856,5765,5836,5833,5735,5785,5859,5873,5845,5849,5841,5846,5858,5741,5842,5898,5855,5781,5806,5805,5826,5809,5823,5837,5812,5837,5809,5824,5887,5816,5835,5829,5832,5816,5852,5827,5707,5852,5842,5871,5827,5841,5834,5834,5842,5829,5839,5829,5843,5784,6011,5987,5843,5863,5856,5870,5848,5827,5842,5770,5845,5818,5839,5943,5844,5845,5868,5847,5835,5844,5856,5838,5811,5877,5765,5852,5855,5847,5853,5830,5862,5838,5914,5857,5838,5854,5993,5833,5861,5863,5852,5831,5861,5845,5857,5936,5814,5851,5865,5868,5836,5858,5843,5842,5826,5951,5837,5890,5837,5785,5881,5866,5853,5849,5834,5845,5833,5847,5937,5849,5887,5886,5871,5862,5869,5833,5845,5832,5851,5828,5922,5829,5597,5851,5836,5842,5861,5842,5853,5844,5844,5847,5807,5839,5765,5799,5866,5862,5853,5851,5833,5890,5866,5877,5869,5923,5830,5807,5863,5842,5853,5819,5852,5853,5779,5831,5831,5743,5781,5877,5821,5841,5835,5863,5860,5852,5747,5863,5938,5859,5801,5847,5821,5827,5835,5830,5821,5809,5834,5802,5869,5897,5824,5840,5840,5830,5833,5838,5827,5685,5824,5840,5851,5818,5868,5854,5855,5861,5853,5840,5835,5827,5784,5998,5922,5863,5859,5851,5846,5836,5855,5850,5826,5846,5810,5843,5945,5851,5843,5831,5856,5851,5870,5863,5857,5853,5816,5795,5848,5837,5837,5834,5849,5849,5852,5930,5883,5861,5860,6011,5841,5871,5824,5850,5841,5857,5849,5876,5941,5802,5839,5875,5881,5866,5854,5849,5829,5859,5922,5848,5901,5850,5741,5855,5866,5846,5844,5837,5839,5829,5839,5929,5818,5855,5883,5865,5855,5845,5848,5865,5851,5866,5833,5923,5834,5631,5837,5845,5842,5881,5842,5855,5854,5860,5853,5821,5858,5767,5801,5850,5851,5911,5839,5865,5854,5861,5843,5849,5951,5844,5821,5841,5837,5839,5877,5843,5849,5769,5844,5847,5767,5805,5833,5804,5848,5859,5854,5847,5859,5741,5841,5915,5845,5798,5866,5831,5831,5837,5855,5831,5806,5845,5812,5863,5917,5825,5845,5863,5874,5865,5863,5836,5723,5851,5807,5843,5850,5885,5846,5894,5866,5881,5878,13\r\n".encode()
    elif i % 4 == 1:
        return f"SATYDZ0001,2021166,19.040592,0,{i},11,5838,41,0,3831,-1482583233,1,1,2,2,8258,0,0,0,0,0,1101,5846,5827,5840,5834,5718,5819,5801,5829,5917,5829,5827,5848,5851,5835,5833,5835,5818,5837,5885,5771,5838,5836,5822,5839,5809,5830,5841,5900,5846,5817,5833,5981,5827,5844,5828,5828,5824,5835,5827,5846,5924,5762,5863,5887,5843,5830,5827,5816,5805,5849,5903,5821,5849,5817,5807,5823,5850,5832,5848,5818,5819,5810,5815,5906,5823,5848,5847,5842,5839,5858,5824,5853,5821,5873,5824,5907,5812,5646,5829,5841,5835,5839,5833,5827,5828,5844,5803,5832,5840,5807,5772,5830,5845,5838,5832,5825,5849,5843,5891,5811,5853,5829,5791,5858,5837,5825,5845,5819,5844,5782,5840,5809,5731,5795,5806,5822,5818,5835,5828,5831,5836,5757,5845,5895,5842,5777,5849,5822,5831,5831,5843,5831,5789,5829,5766,5838,5915,5790,5815,5834,5806,5821,5835,5867,5686,5852,5813,5825,5814,5835,5828,5845,5831,5833,5828,5822,5829,5782,5993,5828,5838,5837,5833,5838,5824,5861,5835,5806,5828,5794,5855,5952,5821,5836,5849,5847,5843,5852,5831,5848,5870,5804,5777,5840,5838,5823,5836,5833,5818,5820,5882,5866,5846,5840,5980,5845,5841,5811,5831,5839,5846,5825,5818,5935,5775,5853,5852,5864,5841,5841,5836,5819,5835,5907,5834,5874,5848,5773,5869,5860,5839,5857,5839,5823,5831,5837,5898,5805,5837,5869,5820,5841,5852,5829,5838,5848,5880,5826,5883,5822,5693,5819,5832,5846,5863,5824,5833,5842,5824,5817,5811,5861,5771,5771,5811,5826,5845,5847,5846,5857,5828,5895,5829,5858,5839,5819,5824,5824,5815,5801,5809,5811,5772,5831,5821,5727,5815,5817,5818,5830,5824,5819,5844,5821,5745,5815,5919,5823,5780,5845,5839,5841,5838,5832,5799,5782,5818,5771,5797,5934,5830,5833,5843,5831,5840,5841,5816,5667,5821,5787,5811,5795,5827,5813,5817,5833,5822,5843,5832,5833,5775,5970,5865,5809,5821,5833,5815,5812,5847,5836,5779,5822,5819,5833,5929,5826,5813,5825,5841,5843,5833,5837,5848,5878,5919,5777,5848,5836,5821,5832,5833,5818,5808,5901,5840,5829,5841,5986,5827,5859,5846,5819,5827,5817,5823,5808,5935,5754,5861,5871,5884,5834,5831,5837,5826,5824,5885,5842,5941,5816,5740,5835,5851,5845,5857,5854,5851,5831,5827,5906,5826,5856,5866,5825,5844,5838,5843,5828,5826,5830,5811,5901,5826,5671,5843,5817,5832,5874,5831,5830,5846,5856,5790,5817,5854,5785,5773,5842,5828,5821,5806,5820,5850,5832,5873,5877,5893,5838,5797,5847,5830,5842,5823,5822,5827,5836,5828,5822,5740,5803,5823,5837,5831,5825,5837,5839,5822,5739,5799,5897,5827,5806,5835,5849,5839,5848,5822,5836,5806,5839,5786,5799,5895,5817,5833,5829,5842,5828,5834,5838,5676,5839,5812,5831,5796,5839,5822,5838,5831,5828,5841,5852,5842,5788,5932,5851,5812,5819,5810,5828,5837,5851,5842,5801,5862,5810,5859,5951,5833,5825,5808,5836,5829,5836,5817,5840,5850,5846,5778,5849,5854,5834,5838,5823,5824,5818,5893,5829,5810,5844,5995,5839,5874,5845,5834,5823,5842,5879,5827,5951,5754,5842,5847,5864,5828,5849,5847,5841,5826,5930,5831,5871,5834,5738,5827,5854,5827,5809,5836,5836,5848,5854,5906,5818,5853,5847,5817,5852,5839,5839,5848,5820,5851,5855,5932,5840,5677,5817,5800,5822,5798,5828,5815,5809,5823,5813,5814,5857,5806,5776,5827,5828,5839,5831,5830,5839,5831,5869,5818,5895,5835,5801,5829,5845,5831,5847,5849,5821,5757,5838,5804,5723,5805,5821,5815,5835,5829,5827,5812,5830,5731,5816,5895,5833,5790,5841,5851,5828,5833,5868,5835,5819,5813,5752,5855,5939,5820,5817,5866,5850,5842,5862,5838,5698,5862,5806,5843,5829,5836,5839,5843,5820,5856,5827,5841,5872,5815,5991,5832,5852,5852,5833,5845,5831,5804,5819,5772,5823,5789,5814,5976,5828,5842,5834,5832,5824,5817,5833,5819,5885,5839,5819,5838,5863,5851,5837,5842,5831,5846,5924,5825,5835,5829,5943,5842,5853,5846,5836,5853,5838,5846,5837,5929,5785,5852,5865,5882,5835,5832,5852,5824,5850,5928,5827,5883,5829,5688,5829,5852,5817,5836,5826,5833,5844,5855,5878,5826,5862,5845,5785,5831,5835,5842,5822,5849,5856,5846,5931,5847,5737,5837,5823,5841,5835,5829,5815,5831,5815,5809,5825,5844,5765,5753,5833,5823,5813,5789,5822,5821,5836,5819,5815,5972,5847,5780,5835,5837,5851,5841,5823,5816,5781,5822,5815,5723,5850,5809,5815,5855,5840,5837,5839,5832,5716,5822,5888,5815,5774,5841,5839,5835,5842,5850,5824,5819,5834,5775,5875,5918,5802,5829,5829,5843,5825,5847,5811,5727,5850,5839,5863,5874,5826,5826,5845,5827,5828,5829,5868,5815,5807,6009,5819,5859,5861,5832,5834,5822,5826,5834,5837,5833,5822,5837,6003,5863,5874,5830,5858,5823,5838,5821,5817,5873,5780,5795,5854,5865,5854,5858,5830,5833,5878,5962,5833,5855,5853,5915,5831,5860,5837,5846,5861,5846,5862,5856,5937,5818,5838,5870,5851,5837,5827,5847,5833,5831,5898,5844,5917,5823,5705,5811,5846,5831,5839,5841,5839,5825,5829,5857,5841,5894,5843,5813,5851,5821,5837,5830,5819,5833,5835,5911,5854,5737,5842,5836,5851,5848,5850,5873,5827,5839,5760,5838,5832,5768,5795,5833,5831,5818,5837,5836,5842,5844,5834,5816,5915,5825,5784,5828,5801,5855,5840,5843,5852,5771,5823,5787,5723,5849,5831,5837,5844,5837,5836,5841,5819,5726,5848,5841,5829,5767,5835,5831,5826,5838,5831,5837,5825,5859,5790,5926,5938,5832,5850,5829,5822,5810,5837,5834,5701,5865,5813,5846,5881,5845,5823,5835,5829,5816,5831,5813,5847,5810,5965,5825,5845,5837,5834,5830,5852,5835,5829,5814,5833,5827,5831,5953,5823,5856,5847,5849,5845,5834,5849,5839,5896,5782,5801,5849,5849,5845,5849,5824,5838,5820,5903,5843,5834,5845,5947,5839,5846,5821,5825,5846,5835,5849,5825,5939,5805,5835,5886,5862,5839,5826,5822,5825,5839,5935,5829,5910,5837,5632,5826,5831,5839,5852,5855,5821,5835,5844,5865,5836,5857,5833,5826,5836,5836,5855,5842,5836,5849,5825,5901,5822,5774,5852,5834,5835,5847,5844,5833,5833,5819,5747,5812,5847,5757,5769,5835,5825,5837,5847,5853,5851,5831,5837,5826,5935,5831,5783,5843,5843,5834,5836,5828,5847,5774,5823,5801,5728,5816,5779,5807,5815,5853,5853,5852,5851,5736,5816,5881,5857,5774,5825,5815,5831,5835,5834,5817,5814,5833,5778,5889,5940,5812,5836,5834,5819,5809,5831,5830,5692,5809,5797,5836,5849,5849,5841,5831,5823,5844,5835,5829,5825,5794,5989,5836,5858,5838,5834,5835,5829,5855,5841,5783,5840,5863,5865,5970,5861,5834,5827,5840,5841,5837,5842,5837,5897,5822,5775,5822,5886,5818,5851,5845,5829,5862,5929,5848,5833,5861,5967,5841,5839,5802,5821,5825,5809,5832,5821,5945,5789,5831,5882,5844,5830,5814,5826,5830,5842,5890,5836,5909,5854,5707,5856,5857,5829,5839,5829,5827,5821,5818,5903,5828,5860,5910,5880,5858,5853,5842,5845,5865,5856,5839,5883,5839,5640,5827,5836,5854,5843,5855,5863,5828,5889,5804,5813,5860,5827,5774,5845,5858,5844,5855,5844,5867,5842,5898,5828,5849,5835,5807,5849,5843,5837,5893,5843,5839,5783,5834,5820,5747,5783,5840,5814,5832,5851,5824,5833,5844,5781,5836,5932,5827,5786,5828,5824,5860,5810,5838,5815,5813,5823,5805,5769,5895,5819,5834,5849,5841,5831,5860,5793,5670,5834,5826,5825,5802,5835,5827,5834,5841,5853,5843,5838,5827,5771,5957,5913,5833,5835,5845,5850,5827,5833,5841,5746,5849,5805,5817,5904,5846,5846,5849,5832,5845,5835,5845,5853,5850,5891,5774,5844,5851,5827,5833,5837,5850,5848,5827,5834,5849,5872,6000,5852,5854,5853,5830,5832,5852,5832,5843,5926,5779,5822,5861,5861,5846,5827,5861,5804,5813,5916,5822,5853,5828,5851,5848,5861,5847,5836,5838,5847,5862,5837,5922,5807,5845,5899,5853,5854,5845,5822,5860,5841,5885,5876,5891,5814,5624,5815,5843,5848,5858,5852,5849,5839,5858,5855,5837,5867,5816,5784,5844,5837,5829,5836,5839,5853,5835,5907,5833,5843,5861,5809,5846,5827,5828,5839,5833,5829,5786,5843,5829,5742,5787,5844,5819,5839,5823,5838,5825,5818,5796,5850,5953,5850,5794,5855,5850,5863,5851,5849,5820,5798,5826,5769,5767,5887,5815,5833,5844,5837,5851,5850,5843,5687,5834,5841,5827,5816,5849,5828,5855,5841,5852,5850,5840,5845,5783,5944,5885,5823,5835,5851,5830,5818,5857,5851,5797,5905,5841,5854,5984,5826,5833,5829,5826,5828,5854,5841,5844,5873,5891,5777,5857,5871,5851,5822,5815,5846,5826,5858,5841,5843,5855,5995,5847,5862,5845,5847,5855,5823,5831,5837,5940,5775,5841,5864,5871,5858,5859,5855,5832,5825,5928,5845,5889,5844,5770,5838,5851,5824,5834,5824,5835,5822,5869,5928,5807,5847,5845,5831,5837,5844,5853,5855,5834,5883,5832,5939,5848,5639,5840,5836,5837,5829,5837,5860,5832,5838,5819,5829,5871,5817,5802,5847,5821,5829,5865,5831,5829,5841,5871,5825,5909,5853,5810,5835,5847,5843,5849,5847,5833,5767,5842,5830,5743,5805,5845,5827,5863,5853,5828,5831,5831,5781,5831,5927,5853,5777,5850,5836,5853,5849,5845,5826,5818,5833,5760,5786,5907,5817,5837,5863,5854,5843,5846,5848,5674,5845,5796,5815,5798,5835,5826,5838,5844,5836,5853,5833,5846,5797,5985,5858,5833,5829,5839,5829,5831,5858,5826,5798,5866,5815,5833,5954,5849,5842,5829,5856,5853,5827,5837,5857,5863,5861,5791,5867,5874,5829,5850,5841,5847,5839,5905,5837,5828,5866,5989,5867,5878,5862,5849,5839,5831,5853,5841,5958,5790,5837,5882,5874,5853,5849,5841,5831,5845,5943,5843,5914,5845,5733,5832,5872,5863,5851,5845,5873,5847,5857,5916,5832,5853,5848,5827,5830,5820,5840,5831,5839,5874,5859,5929,5825,5689,5845,5823,5845,5846,5858,5842,5851,5841,5806,5847,5853,5827,5795,5854,5835,5829,5834,5838,5876,5845,5865,5868,5974,5854,5807,5845,5843,5865,5829,5829,5833,5769,5839,5805,5739,5802,5848,5843,5819,5840,5842,5851,5840,5737,5847,5902,5828,5788,5833,5828,5858,5845,5837,5841,5815,5839,5807,5790,5941,5851,5847,5849,5841,5882,5844,5830,5719,5874,5813,5843,5852,5844,5820,5833,5830,5847,5842,5847,5825,5788,5982,5873,5848,5847,5849,5853,5827,5829,5847,5770,5865,5833,5834,5969,5865,5839,5844,5838,5836,5835,5851,5825,5890,5825,5784,5861,5869,5861,5871,5869,5830,5840,5909,5852,5832,5837,5970,5853,5869,5874,5831,5872,5849,5846,5834,5933,5774,5847,5889,5858,5834,5843,5841,5846,5851,5922,5879,5904,5851,5692,5854,5863,5851,5843,5856,5839,5863,5858,5914,5856,5869,5852,5829,5839,5841,5874,5854,5865,5862,5862,5927,5849,5665,5827,5816,5833,5831,5831,5832,5831,5843,5826,5848,5853,5789,5801,5867,5854,5847,5851,5858,5855,5832,5863,5835,5919,5856,5823,5859,5843,5857,5856,5854,5842,5781,5841,5793,5747,5776,5869,5844,5866,5871,5843,5858,5861,5757,5847,5912,5829,5771,5857,5826,5863,5839,5860,5845,5823,5869,5795,5940,5955,5813,5827,5852,5850,5855,5828,5858,5709,5875,5845,5859,5869,5862,5837,5857,5842,5850,5850,5865,5850,5798,5998,5883,5868,5861,5838,5862,5843,5839,5810,5794,5828,5807,5846,5979,5858,5841,5863,5858,5862,5851,5842,5841,5875,5793,5780,5867,5873,5852,5850,5855,5861,5865,5931,5853,5822,5896,5996,5829,5894,5863,5859,5836,5861,5836,5857,5962,5805,5843,5862,5879,5854,5848,5861,5850,5862,5940,5843,5916,5859,5735,5847,5869,5847,5843,5823,5850,5859,5883,5933,5855,5878,5895,5844,5844,5862,5841,5826,5845,5871,5857,5915,5857,5723,5847,5854,5867,5892,5847,5841,5842,5863,5855,5855,5907,5813,5815,5878,1\r\n".encode()
    elif i % 4 == 2:
        return f"SATYLZ0006,2021166,19.041364,1,{i},11,6064,43,0,3856,1852799375,1,1,0,0,8258,11451,-85,-648,0,0,1102,6057,6070,6044,6044,6173,6055,6029,6079,6067,6053,6063,6067,6051,5986,6042,6031,5944,5999,6045,6049,6069,6071,6070,6070,6053,5962,6089,6091,6052,5985,6126,6061,6062,6070,6055,6070,6035,6069,5994,6146,6179,6043,6057,6067,6054,6069,6071,6069,5899,6040,6021,6063,6067,6062,6023,6059,6052,6026,6039,6069,6053,6009,6206,6074,6055,6074,6072,6073,6059,6060,6058,6007,6071,6069,6063,6225,6070,6068,6080,6076,6067,6075,6068,6082,6110,5969,6018,6091,6092,6054,6074,6067,6069,6059,6194,6061,6077,6077,6178,6054,6096,6063,6062,6073,6061,6055,6063,6203,6060,6069,6126,6091,6071,6057,6046,6068,6064,6134,6063,6161,6066,5889,6055,6081,6061,6062,6063,6071,6052,6058,6134,6054,6106,6061,6029,6066,6077,6080,6053,6071,6077,6060,6103,6037,6005,6039,6040,6069,6093,6067,6069,6051,6058,6001,6056,6073,5983,5990,6068,6059,6072,6056,6055,6071,6053,6063,6055,6174,6057,6014,6052,6042,6067,6066,6069,6074,6011,6060,6025,6001,6071,6028,6038,6037,6058,6051,6075,6052,5947,6087,6072,6068,5998,6067,6056,6068,6051,6052,6081,6049,6063,6007,6162,6174,6070,6061,6075,6058,6066,6054,6050,5937,6046,6034,6079,6116,6066,6075,6091,6062,6068,6071,6047,6064,6050,6115,6001,6085,6074,6055,6054,6059,6054,6062,6098,6092,6035,6065,6232,6062,6075,6066,6064,6063,6067,6084,6074,6159,6001,6069,6089,6103,6089,6064,6069,6082,6063,6195,6098,6118,6092,6075,6094,6101,6080,6091,6085,6102,6099,6122,6263,6136,6174,6209,6201,6207,6261,6253,6286,6300,6380,6379,6533,6493,6285,6569,6586,6605,6679,6748,6889,6945,7068,7137,7181,7284,7336,7307,7449,7493,7589,7587,7632,7736,7953,8063,8203,8160,8220,8294,8372,8577,8688,8712,8787,8734,8734,8713,8843,8780,8972,9159,9415,9660,9907,10269,10570,10687,10800,10727,10774,10886,11085,11369,11534,11618,11671,11561,11407,11596,11539,11527,11521,11659,11712,11891,11924,11821,11744,11669,11597,11430,11749,11841,12061,12239,12467,12616,12867,12955,12841,12961,12889,13003,13183,13259,13040,12711,12657,12749,12991,13139,13370,13557,13458,13581,13515,13697,13703,14015,14081,14355,14656,14836,15024,14755,14773,14969,15183,15309,15780,16304,16145,16387,15958,15685,14993,14855,14273,14151,14029,14619,14871,15440,15890,15812,15787,15520,15571,15908,16252,16305,16527,16614,16828,17099,17397,18117,18215,18557,18671,18409,18376,18211,18022,18338,18641,18441,18691,18544,18266,18219,17925,17781,17146,16812,16639,16606,16634,17079,17618,17953,18395,19081,19409,20196,20374,20053,19936,19475,19464,19637,19409,19307,18581,17718,16653,15787,15725,15910,16358,17304,17825,18178,18439,18395,18363,18274,18340,18418,18703,19155,19698,20318,20929,21190,21568,21436,20689,19422,17928,16763,16431,17079,18709,20125,20689,20439,19418,18599,18641,19490,21426,23598,24941,25988,26545,27061,27366,27746,27929,28053,28190,27959,27998,27677,27590,27446,26978,27021,26790,26731,26617,26540,26880,26872,27525,27965,27646,27157,27115,26967,27217,27696,27973,28406,28630,28141,28437,28325,28030,28361,28287,28222,28408,28464,28197,27589,27305,27378,27258,27262,27400,27398,27633,27576,27920,27629,27499,27127,26983,26849,26913,26864,27189,26948,26592,26612,26380,26109,26487,25834,25862,25320,25303,24232,23281,22796,22618,23172,24144,25399,26271,26682,26251,26229,25961,26105,26134,26464,27087,27190,27231,26932,26336,25634,25474,25082,25068,25272,25263,25563,25673,25747,26120,26248,26293,26066,25899,26076,25717,25430,25049,24731,24628,24558,24591,24844,24986,24883,24527,24476,24546,24523,24613,24827,24584,24489,23951,23371,23236,23217,23133,23098,23292,23237,23320,23345,23475,23412,23516,23777,23291,23264,23010,23085,22939,23250,23361,23340,23398,23409,23297,23431,23434,23148,22905,22751,22704,22520,22796,22632,22276,22365,22069,22102,22301,22177,22149,21771,21901,21714,21522,21710,21667,21680,21843,21515,21451,21706,21581,21409,21368,21187,20942,20951,21115,20877,20991,21245,20953,20787,21044,20736,20808,20787,20670,20754,20353,20352,20128,20234,19981,19718,19511,19087,18595,18080,17743,17627,17804,18077,18318,18273,18497,18385,18260,18319,18379,17907,17846,17636,17362,17198,17391,17105,17062,17059,17069,16946,16650,16554,16445,16308,16069,15721,15470,15610,15390,15213,14957,14818,14465,14300,14277,14047,14334,13913,13749,13828,13791,13478,13390,13342,13412,13139,13207,12839,12656,12503,12275,12341,12196,12082,11887,11669,11565,11491,11405,11351,11032,10942,10815,10851,10695,10615,10601,10536,10358,10321,10138,10159,10132,9909,10154,10194,10265,10290,10209,10367,10313,10237,10252,10181,10219,10152,10209,10306,10307,10249,10207,10113,9968,9870,9900,9843,9932,9977,9814,10050,9983,10034,9945,9940,9895,9781,9857,9657,9605,9507,9635,9662,9589,9542,9557,9537,9496,9399,9409,9466,9383,9257,9239,9220,9190,9086,9158,9011,8982,8954,8936,8975,9030,8898,8927,8927,8888,8794,8765,8814,8571,8608,8560,8627,8576,8601,8534,8498,8477,8480,8464,8384,8359,8265,8535,8392,8345,8377,8303,8312,8282,8281,8304,8214,8247,8184,8262,8277,8162,8223,8100,8121,8114,8066,8168,8125,8098,8165,8016,8093,8104,8036,8079,8000,8039,8003,8017,8002,7997,8004,8109,7953,7888,7863,7810,7816,7735,7806,7773,7828,7658,7689,7718,7690,7738,7641,7614,7640,7577,7631,7570,7537,7523,7476,7433,7459,7393,7339,7338,7330,7224,7308,7335,7226,7190,7195,7175,7183,7109,7099,7050,6989,7053,6972,7045,6946,6654,6864,6849,6792,6789,6753,6735,6719,6711,6683,6689,6705,6627,6611,6671,6603,6653,6629,6569,6574,6581,6665,6529,6556,6516,6509,6474,6457,6466,6445,6418,6427,6318,6419,6398,6286,6342,6384,6362,6392,6391,6377,6373,6331,6300,6333,6466,6363,6295,6347,6347,6353,6344,6348,6330,6283,6306,6289,6291,6359,6282,6311,6391,6334,6317,6320,6301,6145,6311,6274,6296,6241,6291,6259,6290,6271,6287,6299,6291,6322,6209,6455,6378,6294,6275,6269,6292,6295,6281,6281,6180,6277,6255,6253,6389,6267,6275,6267,6274,6267,6256,6261,6240,6254,6259,6215,6264,6250,6251,6246,6232,6275,6230,6304,6238,6253,6266,6437,6244,6262,6239,6265,6246,6248,6279,6240,6335,6170,6258,6254,6271,6251,6233,6261,6237,6238,6306,6236,6280,6192,6208,6234,6269,6213,6226,6213,6217,6234,6231,6328,6206,6223,6238,6222,6227,6198,6208,6205,6208,6222,6185,6290,6183,5961,6189,6173,6176,6185,6171,6212,6175,6189,6222,6168,6194,6138,6119,6179,6170,6183,6161,6187,6174,6187,6226,6163,6226,6178,6154,6167,6163,6195,6165,6142,6188,6085,6170,6148,6061,6115,6167,6151,6171,6156,6185,6174,6154,6063,6173,6231,6175,6115,6174,6173,6177,6174,6141,6168,6095,6164,6088,6112,6227,6121,6162,6167,6159,6184,6156,6170,5999,6152,6137,6146,6097,6147,6179,6166,6146,6146,6121,6153,6147,6089,6283,6231,6134,6126,6111,6123,6139,6143,6135,6025,6186,6079,6133,6249,6113,6119,6126,6111,6112,6123,6126,6099,6132,6165,6065,6129,6141,6138,6112,6098,6098,6088,6183,6108,6089,6119,6275,6104,6118,6097,6131,6102,6100,6125,6101,6190,6035,6099,6148,6132,6101,6107,6088,6120,6084,6193,6107,6135,6085,6057,6085,6137,6087,6095,6111,6106,6086,6104,6189,6111,6110,6103,6078,6073,6110,6077,6063,6070,6106,6079,6183,6093,5893,6085,6074,6079,6077,6082,6074,6045,6048,6055,6052,6084,6027,6000,6082,6061,6103,6067,6049,6077,6063,6080,6055,6217,6077,6036,6104,6068,6082,6066,6059,6049,5996,6045,6050,5949,6031,6040,6062,6073,6065,6064,6062,6054,5961,6047,6118,6063,6006,6061,6059,6066,6099,6091,6075,6044,6061,6005,6073,6155,6017,6057,6065,6067,6067,6050,6067,5910,6068,6051,6095,6077,6074,6058,6057,6057,6069,6061,6058,6063,6034,6225,6071,6077,6076,6061,6057,6059,6059,6067,6097,6071,6041,6059,6191,6059,6061,6092,6065,6070,6056,6071,6049,6111,5988,6054,6092,6091,6077,6067,6066,6065,6071,6165,6062,6064,6071,6167,6069,6103,6074,6075,6075,6083,6066,6061,6194,6073,6072,6102,6093,6067,6063,6044,6087,6083,6116,6085,6150,6062,5878,6063,6068,6067,6079,6060,6073,6079,6062,6123,6085,6087,6064,6035,6070,6055,6061,6062,6059,6079,6052,6149,6065,5977,6081,6046,6071,6068,6060,6069,6058,6071,6029,6079,6078,5974,5977,6071,6066,6041,6067,6035,6055,6049,6054,6053,6146,6073,6031,6076,6067,6088,6067,6071,6048,5993,6070,6033,5983,6057,6045,6054,6061,6087,6078,6077,6059,5942,6054,6086,6067,5993,6072,6048,6058,6075,6063,6075,6071,6072,6010,6202,6187,6062,6062,6061,6057,6053,6052,6062,5929,6093,6031,6066,6130,6071,6063,6041,6077,6065,6073,6053,6108,6047,6205,6013,6089,6068,6064,6065,6072,6076,6067,6068,6070,6050,6089,6236,6071,6076,6094,6064,6063,6090,6073,6051,6133,5966,6024,6061,6071,6067,6065,6067,6063,6067,6175,6055,6097,6066,6097,6062,6086,6095,6069,6055,6062,6071,6068,6167,6029,6086,6103,6068,6083,6072,6055,6091,6069,6128,6093,6118,6078,5859,6071,6075,6066,6070,6058,6080,6055,6072,6118,6050,6112,6075,6025,6080,6056,6082,6047,6063,6078,6063,6130,6067,6025,6085,6052,6055,6096,6081,6069,6071,6052,5983,6051,6082,5996,6022,6074,6072,6091,6068,6092,6079,6074,6038,6065,6144,6070,6028,6068,6037,6054,6053,6055,6051,6027,6069,6028,6018,6129,6035,6067,6072,6079,6061,6082,6058,5912,6081,6061,6065,6024,6109,6052,6057,6062,6091,6071,6067,6080,6014,6207,6132,6048,6049,6037,6063,6057,6066,6063,5950,6069,6046,6061,6135,6066,6063,6074,6053,6033,6072,6059,6068,6065,6178,6004,6091,6089,6077,6067,6071,6059,6060,6069,6077,6035,6072,6236,6063,6081,6066,6086,6081,6057,6079,6063,6157,5992,6077,6090,6087,6080,6080,6070,6081,6058,6163,6076,6099,6046,6045,6060,6112,6069,6071,6056,6077,6059,6094,6186,6066,6097,6104,6060,6045,6055,6063,6067,6060,6103,6077,6143,6050,5859,6059,6049,6055,6060,6049,6059,6076,6051,6057,6074,6075,6039,6019,6071,6085,6074,6027,6046,6067,6056,6120,6057,6095,6054,6049,6087,6076,6075,6071,6063,6051,6000,6070,6061,5945,6001,6101,6058,6078,6087,6076,6083,6073,5977,6062,6131,6082,6005,6078,6053,6063,6075,6070,6069,6046,6064,6021,6057,6143,6033,6053,6029,6046,6071,6071,6079,5899,6067,6026,6087,6027,6065,6059,6078,6070,6085,6078,6085,6058,6001,6241,6108,6055,6071,6067,6062,6065,6073,6061,5983,6065,6038,6067,6194,6071,6070,6068,6065,6078,6068,6098,6075,6102,6070,6015,6087,6084,6063,6080,6062,6073,6061,6170,6071,6067,6064,6221,6059,6098,6058,6072,6074,6287,6068,6069,6180,6026,6069,6098,6095,6083,6091,6087,6079,6066,6172,6075,6123,6065,6014,6046,6087,6066,6069,6058,6065,6054,6062,6149,6074,6083,6092,6060,6066,6079,6060,6058,6047,6075,6081,6161,6075,5924,6088,6066,6082,6084,6068,6060,6064,6076,6030,6047,6091,6006,5995,6075,6073,6063,6071,6062,6074,6067,6103,6055,6145,6079,6050,6075,6091,6059,6088,6075,6067,5994,6042,6036,5974,6015,6046,6040,6078,6087,6060,6077,6074,5983,6087,6127,6067,6004,6063,6043,6071,6060,6068,6077,6034,6073,6015,6069,6168,6045,6055,6067,6061,6071,6083,6063,5899,6073,6050,6071,6065,6053,6055,6059,6038,6061,6073,6081,6059,6019,6243,6100,6063,6076,6074,6065,6078,6053,6078,6023,6083,6048,6079,6200,6081,6081,6066,6065,6075,6073,6075,6070,6096,6080,6019,6085,6089,6090,6077,6069,6077,6071,6174,6072,6104,6077,6205,6076,6097,6067,6081,6068,6087,6074,6074,6207,6001,6073,6118,6107,6064,6055,6062,6061,6083,6160,6087,6127,6082,5985,6109,6089,6113,6075,6064,6081,6080,6107,6171,6096,6112,6141,6078,6107,6100,6120,184\r\n".encode()
    else:
        return f"SATYDZ0006,2021166,19.030605,1,{i},11,6066,46,0,3618,2,1,1,0,0,8254,0,0,0,0,0,1101,6060,6043,6077,5912,6075,6055,6056,6041,6064,6039,6060,6061,6047,6036,6068,6074,6005,6119,6123,6019,6079,6057,6051,6068,6076,6063,5942,6070,6059,6071,6206,6092,6065,6059,6046,6057,6056,6054,6072,6067,6233,5989,6075,6063,6087,6071,6068,6083,6094,6074,6065,6047,6067,6204,6079,6086,6093,6055,6066,6069,6069,6057,6129,6052,6047,6048,6073,6026,6059,6069,6067,6074,6176,6117,6071,6056,6134,6060,6068,6044,6069,6053,6063,6065,6043,6213,6022,6047,6115,6070,6078,6060,6047,6047,6073,6142,6067,6099,6044,5962,6072,6070,6062,6051,6044,6022,6039,6043,6172,6055,6101,6111,6029,6057,6048,6055,6051,6037,6075,6061,6147,6041,5905,6051,6075,6075,6083,6055,6071,6038,6066,6007,6039,6058,6027,5977,6073,6066,6068,6062,6053,6090,6073,6133,6064,6090,6055,6011,6094,6049,6047,6043,6045,6037,5983,6074,6044,5941,6032,6053,6039,6048,6065,6061,6139,6059,6049,6057,6138,6067,6019,6069,6061,6051,6058,6067,6103,6015,6058,5994,6050,6140,6039,6035,6062,6042,6056,6058,6151,5881,6067,6062,6089,6032,6053,6046,6074,6046,6051,6049,6042,6057,6008,5997,6151,6025,6075,6070,6059,6057,6074,6055,5886,6067,6021,6046,6135,6060,6049,6056,6059,6064,6070,6069,6066,6050,6205,6018,6061,6074,6060,6066,6054,6064,6043,5954,6063,6041,6037,6115,6055,6075,6036,6047,6054,6045,6057,6066,6121,6173,6051,6087,6087,6047,6042,6056,6053,6070,6114,6056,6063,6063,6201,6075,6099,6071,6047,6065,6062,6071,6058,6184,5947,6066,6087,6099,6077,6071,6059,6069,6063,6186,6088,6107,6053,5982,6046,6075,6071,6047,6054,6050,6063,6079,6142,6054,6084,6105,6025,6054,6060,6053,6071,6074,6091,6076,6152,6079,5903,6075,6070,6059,6063,6071,6063,6066,6067,6041,6042,6082,6079,6008,6038,6039,6074,6059,6042,6067,6048,6139,6057,5996,6053,6079,6057,6094,6067,6083,6057,6081,5977,6049,6058,5957,6004,6073,6054,6069,6071,6079,6069,6064,5966,6061,6155,6060,6013,6058,6077,6089,6067,6075,6045,6002,6041,6006,5944,6101,6053,6051,6045,6043,6062,6060,6055,5997,6077,6075,6055,6061,6080,6054,6054,6053,6079,6077,6037,6051,6010,6074,6194,6035,6091,6076,6059,6063,6056,6072,5925,6111,6027,6081,6066,6094,6063,6077,6034,6057,6038,6063,6055,6024,6159,6051,6049,6024,6039,6057,6070,6027,6060,5954,6066,6039,6052,6159,6049,6096,6069,6077,6067,6051,6049,6081,6116,6017,6019,6073,6095,6043,6060,6081,6035,6087,6151,6078,6059,6045,6189,6045,6079,6049,6058,6071,6071,6077,6058,6209,5967,6066,6084,6090,6061,6068,6066,6073,6062,6175,6081,6095,6067,6031,6057,6111,6055,6060,6051,6062,6047,6065,6170,6042,6101,6129,6049,6065,6081,6055,6057,6061,6137,6049,6125,6052,5858,6054,6066,6064,6054,6077,6069,6065,6067,6064,6049,6101,6057,6049,6082,6076,6055,6059,6054,6116,6013,6181,6035,5967,6036,6077,6042,6071,6023,6099,6066,6064,5928,6078,6054,5989,5967,6073,6039,6080,6033,6085,6057,6069,6083,6108,6125,6079,6047,6073,6041,6073,6055,6077,6041,5983,6054,6058,5940,6070,6054,6060,6071,6070,6059,6075,6048,5949,6049,6181,6069,5999,6071,6051,6075,6072,6080,6067,6039,6081,5999,6062,6157,6033,6042,6079,6037,6061,6086,6050,5881,6059,6029,6082,6030,6067,6041,6070,6063,6059,6051,6066,6069,6038,6074,6138,6042,6061,6063,6070,6059,6083,6058,5917,6083,6038,6063,6161,6058,6072,6045,6065,6047,6047,6073,6079,6064,6199,6000,6085,6067,6074,6053,6069,6063,6053,6035,6075,6030,6076,6191,6072,6074,6063,6061,6078,6062,6075,6054,6119,6051,6039,6057,6091,6077,6070,6040,6061,6058,6176,6084,6066,6069,6167,6056,6098,6059,6071,6068,6072,6048,6063,6145,5998,6061,6068,6078,6068,6076,6060,6082,6067,6195,6067,6099,6093,5911,6077,6071,6059,6074,6050,6053,6047,6054,6131,6053,6087,6122,6041,6054,6105,6062,6046,6082,6178,6068,6126,6043,5906,6074,6061,6062,6062,6062,6069,6059,6054,6007,6051,6063,5965,6003,6054,6052,6085,6066,6057,6075,6110,6151,6051,5972,6151,6031,6070,6058,6101,6084,6034,6032,5979,6063,6073,6005,5985,6053,6065,6061,6074,6055,6081,6045,6050,6065,6199,6047,5986,6042,6035,6015,6057,6036,6069,6009,6080,6007,6018,6106,6013,6068,6057,6061,6059,6067,6061,5909,6070,6123,6048,6029,6067,6055,6059,6054,6091,6079,6038,6061,5997,6071,6158,6045,6059,6046,6057,6074,6077,6037,5876,6059,6095,6066,6073,6065,6061,6070,6072,6051,6047,6050,6063,6035,6302,6021,6077,6042,6115,6058,6053,6060,6131,5942,6068,6023,6077,6195,6060,6062,6071,6054,6053,6058,6037,6069,6135,6074,6035,6092,6067,6061,6075,6051,6057,6026,6143,6050,6059,6059,6194,6071,6090,6061,6075,6067,6039,6044,6064,6209,5987,6051,6082,6099,6061,6067,6093,6071,6063,6181,6068,6053,6052,6051,6053,6092,6079,6079,6062,6071,6076,6074,6193,6052,6081,6112,6037,6058,6063,6056,6081,6074,6156,6073,6130,6057,5869,6059,6050,6075,6056,6048,6063,6079,6061,6052,6059,6090,6076,5997,6067,6073,6058,6055,6066,6071,6073,6132,6061,5984,6069,6062,6077,6055,6058,6057,6048,6052,5956,6046,6038,5965,5967,6066,6047,6094,6041,6067,6075,6079,6018,6074,6176,6072,5985,6069,6084,6066,6069,6085,6044,6003,6065,6040,5943,6085,6046,6049,6074,6103,6027,6063,6074,5974,6097,6163,6069,6015,6058,6053,6066,6071,6075,6054,6043,6051,6009,6102,6172,6053,6051,6066,6072,6084,6055,6057,5882,6070,6022,6072,6065,6073,6054,6070,6051,6048,6046,6050,6058,6031,6129,6127,6072,6084,6067,6110,6065,6082,6055,5900,6058,6034,6048,6129,6058,6063,6055,6042,6051,6068,6054,6075,6078,6143,5989,6051,6057,6047,6077,6077,6066,6066,6147,6137,6057,6064,6207,6063,6082,6061,6078,6053,6051,6087,6076,6105,5991,6045,6093,6077,6063,6045,6056,6061,6066,6194,6071,6081,6050,6159,6063,6085,6042,6051,6047,6055,6075,6113,6187,6045,6066,6140,6078,6089,6069,6058,6085,6066,6157,6058,6129,6061,5905,6081,6105,6066,6077,6061,6059,6066,6075,6129,6073,6078,6090,6047,6063,6096,6056,6075,6055,6129,6059,6153,6025,5956,6063,6047,6069,6060,6049,6071,6075,6068,6021,6066,6074,6028,5978,6069,6052,6075,6060,6079,6057,6080,6095,6079,6034,6058,6012,6079,6033,6053,6035,6077,6023,6017,6045,6040,5964,6051,6045,6074,6009,6082,6058,6058,6065,6019,6035,6194,6007,6049,6054,6059,6061,6107,6059,6063,5980,6061,6017,5978,6141,6058,6036,6081,6089,6085,6089,6069,5910,6061,6055,6060,6005,6064,6042,6081,6073,6076,6062,6071,6078,6013,6123,6177,6022,6047,6044,6055,6050,6078,6077,5899,6085,6078,6065,6098,6052,6067,6045,6055,6041,6087,6057,6057,6058,6235,5984,6079,6073,6081,6091,6045,6054,6070,6026,6065,6020,6073,6166,6097,6061,6096,6095,6091,6054,6074,6051,6126,6197,6055,6071,6089,6062,6081,6066,6089,6063,6091,6083,6041,6051,6193,6061,6079,6066,6078,6049,6093,6061,6076,6189,6003,6048,6117,6082,6095,6081,6129,6064,6064,6167,6082,6101,6089,5995,6063,6083,6045,6059,6071,6045,6051,6047,6145,6055,6090,6099,6062,6078,6087,6064,6068,6077,6147,6066,6162,6061,5890,6071,6097,6066,6088,6059,6071,6043,6049,6062,6079,6070,6023,6005,6082,6071,6079,6058,6091,6072,6050,6139,6058,6027,6074,6027,6095,6065,6076,6065,6106,6076,5995,6049,6093,6001,5986,6063,6083,6049,6046,6053,6081,6071,6046,6043,6145,6052,6031,6055,6032,6043,6075,6043,6043,5996,6069,6041,5961,6053,6044,6033,6123,6057,6067,6055,6113,6022,6070,6145,6074,5991,6080,6058,6080,6078,6066,6041,6031,6062,5998,5983,6142,6043,6058,6060,6075,6068,6078,6030,5900,6046,6071,6059,6029,6065,6061,6070,6069,6057,6048,6063,6083,6010,6217,6121,6069,6072,6069,6049,6073,6055,6066,5913,6085,6042,6075,6142,6076,6051,6052,6056,6083,6050,6063,6069,6130,6232,6026,6047,6095,6051,6068,6063,6122,6072,6091,6075,6048,6069,6228,6079,6153,6059,6068,6076,6070,6063,6045,6127,6062,6055,6094,6080,6073,6050,6055,6067,6064,6166,6073,6042,6054,6110,6067,6089,6082,6076,6075,6063,6068,6071,6175,5962,6073,6113,6101,6075,6077,6051,6058,6075,6173,6085,6133,6057,5947,6046,6087,6054,6065,6053,6053,6060,6078,6126,6068,6085,6091,6029,6063,6087,6051,6059,6070,6087,6078,6151,6053,5978,6081,6074,6051,6065,6053,6053,6065,6056,5987,6068,6087,6073,6007,6067,6057,6067,6067,6067,6059,6071,6110,6066,6174,6065,6022,6102,6029,6057,6063,6050,6032,5973,6045,6028,5962,6031,6057,6065,6049,6046,6085,6091,6060,6069,6070,6172,6059,6023,6034,6075,6049,6087,6071,6079,6025,6053,5998,6078,6155,6048,6076,6058,6087,6057,6064,6096,5883,6056,6063,6051,6055,6067,6053,6063,6068,6054,6069,6059,6050,6020,6050,6159,6042,6080,6069,6068,6058,6058,6063,5905,6061,6030,6062,6141,6072,6079,6062,6090,6081,6057,6060,6053,6039,6235,6003,6066,6098,6085,6047,6079,6078,6076,6073,6068,6023,6053,6237,6052,6035,6065,6054,6073,6054,6085,6075,6152,6071,6041,6065,6105,6068,6058,6081,6059,6067,6136,6070,6070,6068,6187,6071,6104,6075,6101,6070,6056,6058,6099,6229,5989,6089,6115,6091,6097,6059,6083,6045,6073,6131,6060,6111,6071,5988,6042,6093,6057,6079,6063,6064,6081,6070,6157,6070,6081,6119,6123,6071,6073,6037,6075,6078,6139,6060,6154,6055,5885,6063,6058,6067,6081,6070,6077,6050,6082,6019,6060,6097,6047,5997,6073,6060,6059,6049,6052,6058,6056,6108,6069,6095,6088,6021,6074,6067,6074,6055,6051,6047,5988,6043,6083,5985,6053,6066,6070,6059,6082,6068,6100,6070,6069,6057,6168,6053,6019,6071,6083,6062,6086,6061,6063,6007,6089,6015,5969,6136,6061,6059,6083,6073,6103,6061,6102,5882,6070,6019,6091,5996,6077,6036,6084,6073,6072,6085,6082,6083,6017,6090,6185,6059,6071,6065,6094,6067,6073,6070,5900,6079,6075,6030,6112,6066,6077,6040,6081,6076,6063,6078,6058,6027,6246,5990,6082,6085,6063,6069,6067,6055,6076,6067,6087,6057,6077,6210,6074,6094,6054,6071,6068,6039,6062,6077,6155,6201,6046,6061,6121,6076,6089,6074,6102,6052,6191,6075,6026,6045,6205,6063,6095,6058,6077,6066,6094,6072,6087,6206,6029,6068,6111,6094,6105,6055,6071,6069,6083,6179,6090,6104,6081,6011,6088,6079,6084,6047,6068,6061,6101,6056,6393,6027,6121,6127,6081,6065,6091,6065,6078,6106,6143,6063,6151,6065,5930,6052,6074,6073,6055,6066,6063,6055,6073,6067,6083,6093,6091,6022,6066,6075,6087,6069,6082,6076,6063,6123,6059,6055,6071,6050,6082,6081,6121,6073,6076,6048,6019,6059,6095,5999,6008,6063,6067,6062,6091,6073,6095,6083,6015,6071,6185,6063,6055,6074,6042,6066,6085,6077,6057,6004,6106,6031,6069,6059,6044,6061,6068,6047,6061,6065,6078,5947,6098,6135,6078,6011,6091,6067,6095,6071,6081,6057,6059,6055,5999,6070,6199,6037,6092,6064,6080,6068,6034,6037,5889,6057,6039,6051,6106,6062,6067,6071,6058,6051,6061,6062,6076,6025,6268,6025,6067,6049,6132,6065,6066,6071,6088,6062,6089,6046,6078,6216,6077,6038,6083,6083,6069,6078,6079,6074,6153,6180,6042,6055,6094,6072,6080,6051,6085,6067,6202,6089,6099,6058,6221,6085,6131,6081,6051,6061,6073,6054,6068,6199,6022,6069,6127,6117,6103,6101,6064,6095,6062,6175,6063,6106,6062,6003,6060,6092,6061,6081,6152,6096,6091,6076,6210,6076,6119,6113,6082,6093,6067,6088,6152,6106,6205,31\r\n".encode()


hyperbb_data = []
hyperbb_idx = 0
# with open('/Users/nils/PycharmProjects/Inlinino/test/data/hyperbb/hyperbb.log', 'rb') as f:
# # with open('/Users/nils/PycharmProjects/Inlinino/test/data/hyperbb/hbb_2021-04-30_04-54-35.txt', 'r') as f:
# # with open('/Users/nils/Documents/Lab/EXPORTS/EXPORTS2_Cook/HBB_SN8005_ShipDisk/Matlab Processing Software/ExampleData.txt', 'r') as f:
#     for l in f:
#         hyperbb_data.append(l)


def mock_hyperbb():
    global hyperbb_idx, hyperbb_data
    # data = hyperbb_data[hyperbb_idx % len(hyperbb_data)].replace('\n', '\r\n').encode()
    data = hyperbb_data[hyperbb_idx % len(hyperbb_data)]
    hyperbb_idx += 1
    return data


if __name__ == '__main__':
    sleep(1)
    with serial.Serial(PORT_A, BAUDRATE, xonxoff=XONXOFF, rtscts=RTSCTS, timeout=1) as ser:
        print('Connected')
        try:
            while True:
                # frame = mock_tara_tsg()
                # frame = mock_bb3_349_frame()
                # frame = mock_hyperbb()
                frame = mock_hypernav_0051()
                # frame = mock_imoca_nmea()
                ser.write(frame)
                print('Sent: ' + str(frame))
                rcvd = ser.read(ser.in_waiting)
                if rcvd:
                    print('Received: ' + str())
                sleep(FRAME_EXECUTION_TIME)
        except KeyboardInterrupt:
            print('Stopped')

